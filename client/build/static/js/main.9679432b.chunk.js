(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,a,t){},118:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"fetchUser",(function(){return k})),t.d(n,"setAlert",(function(){return j})),t.d(n,"search",(function(){return S})),t.d(n,"newCar",(function(){return N})),t.d(n,"getCar",(function(){return x})),t.d(n,"addToFavList",(function(){return w})),t.d(n,"getUsersCars",(function(){return D}));var r=t(0),c=t.n(r),l=t(35),o=t.n(l),u=t(9),i=t(10),s=t(12),m=t(11),d=t(13),p=t(4),f=t(26),v=t(5),h=(t(76),t(3)),b=t(7),E=t.n(b),g=t(21),O=t.n(g),C=t(59),y=t.n(C),k=function(){return function(e){var a;return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.awrap(O.a.get("/api/user"));case 2:a=t.sent,e({type:"FETCH_USER",payload:a.data});case 4:case"end":return t.stop()}}))}},j=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=y.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:a,id:r}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),t)}},S=function(e){return function(a){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E.a.awrap(O.a.get("/api/search".concat(e)));case 3:t=n.sent,a({type:"SEARCH_SUCCESS",payload:t.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},N=function(e){return function(a){var t,n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.prev=1,t={headers:{"Content-Type":"application/json"}},r.next=5,E.a.awrap(O.a.post("/api/cars",e,t));case 5:n=r.sent,a({type:"NEWCAR_SUCCESS",payload:n.data}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.error(r.t0);case 12:case"end":return r.stop()}}),null,null,[[1,9]])}},x=function(e){return function(a){var t,n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t="/api/cars/".concat(e),console.log("link: "+t),r.next=5,E.a.awrap(O.a.get("/api/cars/".concat(e)));case 5:n=r.sent,a({type:"FETCH_CAR",payload:n.data}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.error(r.t0);case 12:case"end":return r.stop()}}),null,null,[[0,9]])}},w=function(e){return function(a){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,{headers:{"Content-Type":"application/json"}},n.next=4,E.a.awrap(O.a.post("/api/favorites/".concat(e)));case 4:t=n.sent,a({type:"ADD_TO_FAV",payload:t.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:case"end":return n.stop()}}),null,null,[[0,8]])}},D=function(e){return function(a){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E.a.awrap(O.a.get("/api/users/".concat(e,"/cars")));case 3:t=n.sent,a({type:"FETCH_USER_CARS",payload:t.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},T=(t(40),function(e){var a=e.label,t=e.value,n=e.handleOnChange,r=e.listName,l=e.options;return c.a.createElement("fieldset",{className:"field-wrapper select"},c.a.createElement("select",{name:a,value:t,onChange:function(e){return n(e)}},c.a.createElement("option",{value:"",disabled:!0,selected:!0},r),l.map((function(e){return c.a.createElement("option",{key:e.value,value:e.value},e.name)}))),c.a.createElement("label",{className:"smart-placeholder",htmlFor:a},r))}),A=t(8),_=A.filter((function(e){return"0"===e.parent_id})),M=[{value:"0",name:"0 km"},{value:"5000",name:"5.000 km"},{value:"25000",name:"25.000 km"},{value:"50000",name:"50.0000 km"},{value:"100000",name:"100.000 km"},{value:"999999",name:"Maximum"}],L=[{value:"10000",name:"10.000 DKK"},{value:"25000",name:"25.000 DKK"},{value:"50000",name:"50.000 DKK"},{value:"100000",name:"100.000 DKK"},{value:"500000",name:"500.000 DKK"},{value:"999999",name:"Maximum"}],F=function(e){var a,t=(new Date).getFullYear(),n=[{value:"1900",name:"Older"}];for(e=e||1980;e<=t;)a=e++,n.push({value:a.toString(),name:a.toString()});return n.reverse()},R=Object(v.b)(null,{search:S})(Object(f.g)((function(e){var a=Object(r.useState)(""),t=Object(h.a)(a,2),n=t[0],l=t[1],o=Object(r.useState)(""),u=Object(h.a)(o,2),i=u[0],s=u[1],m=Object(r.useState)("2000"),d=Object(h.a)(m,2),p=d[0],f=d[1],v=Object(r.useState)(999999),b=Object(h.a)(v,2),E=b[0],g=b[1],O=Object(r.useState)(999999),C=Object(h.a)(O,2),y=C[0],k=C[1];return c.a.createElement("div",{className:"form-wrapper col s12 m6"},c.a.createElement("h2",{className:"form-title"},"Search"),c.a.createElement("form",{className:"form",onSubmit:function(a){return function(a){a.preventDefault();var t={};""!==n&&(t.make=n,""!==i&&(t.model=i)),t.minYear=p,t.maxMileage=E,t.maxPrice=y;var r=Object.keys(t).map((function(e){return e+"="+t[e]})).join("&");e.history.push("/cars?"+r),console.log(t)}(a)}},c.a.createElement(T,{name:"car-make",value:n,handleOnChange:function(e){return l(e.currentTarget.value)},listName:"Car Make",options:_}),function(){if(!n)return c.a.createElement(T,{name:"car-model",value:"",handleOnChange:function(e){return s(e.currentTarget.value)},listName:"Car Model",options:[""]});var e=_.find((function(e){return e.value===n})).id,a=A.filter((function(a){return a.parent_id===e}));return c.a.createElement(T,{name:"car-model",value:i,handleOnChange:function(e){return s(e.currentTarget.value)},listName:"Car Model",options:a})}(),c.a.createElement(T,{name:"max-mileage",value:E,handleOnChange:function(e){return g(e.currentTarget.value)},listName:"Max Mileage",options:M}),c.a.createElement(T,{name:"max-price",value:y,handleOnChange:function(e){return k(e.currentTarget.value)},listName:"Max Price",options:L}),c.a.createElement(T,{name:"min-year",value:p,handleOnChange:function(e){return f(e.currentTarget.value)},listName:"From Year",options:F()}),c.a.createElement("fieldset",{className:"field-wrapper"},c.a.createElement("input",{className:"btn",type:"submit",value:"Search!"}))))}))),P=Object(v.b)((function(e){return{auth:e.auth}}))((function(e){return c.a.createElement("div",{className:"landing full-height"},c.a.createElement(R,null))})),K=t(37),U=t.n(K),Y=function(e){function a(){return Object(u.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"renderContent",value:function(){return this.props.auth?[c.a.createElement("li",{key:"1"},c.a.createElement(p.b,{to:"/search"},"SEARCH")),c.a.createElement("li",{key:"2"},c.a.createElement(p.b,{to:"/newcar"},"SELL")),c.a.createElement("li",{key:"3"},c.a.createElement(p.b,{to:"/favorites"},"FAVORITES")),c.a.createElement("li",{key:"4"},c.a.createElement(p.b,{to:"/dashboard"},"DASHBOARD")),c.a.createElement("li",{key:"5"},c.a.createElement("a",{href:"/api/logout"},"LOGOUT"))]:[c.a.createElement("li",{key:"6",className:"sidenav-links"},c.a.createElement(p.b,{to:"/search"},"SEARCH")),c.a.createElement("li",{key:"7",className:"sidenav-links"},c.a.createElement(p.b,{to:"/login"},"LOGIN"))]}},{key:"render",value:function(){return document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".sidenav");U.a.Sidenav.init(e)})),c.a.createElement("div",null,c.a.createElement("div",{className:"navbar-fixed"},c.a.createElement("nav",{className:"orange accent-3"},c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement("a",{href:"/#",className:"brand-logo"},"Baneed.com"),c.a.createElement("a",{href:"#","data-target":"mobile-demo",class:"sidenav-trigger"},c.a.createElement("i",{class:"material-icons"},"menu")),c.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},this.renderContent())))),c.a.createElement("ul",{class:"sidenav sidenav-close",id:"mobile-demo"},this.renderContent()))}}]),a}(r.Component),I=Object(v.b)((function(e){return{auth:e.auth}}))(Y),G=function(e){function a(){return Object(u.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"renderContent",value:function(){if(this.props.auth)return c.a.createElement("div",{class:"fixed-action-btn"},c.a.createElement("a",{class:"btn-floating btn-large orange accent-3"},c.a.createElement("i",{class:"large material-icons"},"favorite")))}},{key:"render",value:function(){return document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".sidenav");U.a.Sidenav.init(e)})),c.a.createElement("div",null,this.renderContent())}}]),a}(r.Component),B=Object(v.b)((function(e){return{auth:e.auth}}))(G),V=t(30),H=t(20),z=(t(97),function(){return c.a.createElement("form",{action:"http://localhost:5060/auth/facebook"},c.a.createElement("button",{className:"loginBtn loginBtn--facebook"},"Login with Facebook"))}),W=Object(v.b)((function(e){return{auth:e.auth}}),{setAlert:j})((function(e){var a=Object(r.useState)({email:"",password:""}),t=Object(h.a)(a,2),n=t[0],l=t[1],o=n.email,u=n.password,i=function(e){return l(Object(H.a)({},n,Object(V.a)({},e.target.name,e.target.value)))};return e.auth?c.a.createElement(f.a,{to:"/dashboard"}):c.a.createElement(r.Fragment,null,c.a.createElement("h1",{className:"large text-primary"},"Login"),c.a.createElement("p",{className:"lead"},c.a.createElement("i",{className:"fas fa-user"})," Login to Your Account"),c.a.createElement("form",{className:"form",onSubmit:function(a){return function(a){return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.login(o,u);case 2:case"end":return t.stop()}}))}(a)}},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"email",placeholder:"Email Address",name:"email",value:o,onChange:function(e){return i(e)}}),c.a.createElement("small",{className:"form-text"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:u,onChange:function(e){return i(e)}})),c.a.createElement("input",{disabled:!0,type:"submit",className:"btn btn-primary",value:"Login"})),c.a.createElement("p",{className:"my-1"},"Dont have an account? ",c.a.createElement(p.b,{to:"/register"},"Register")),c.a.createElement(z,null))})),J=Object(v.b)((function(e){return{auth:e.auth}}),{setAlert:j})((function(e){var a=Object(r.useState)({firstName:"",lastName:"",email:"",password:"",password2:""}),t=Object(h.a)(a,2),n=t[0],l=t[1],o=n.firstName,u=n.lastName,i=n.email,s=n.password,m=n.password2,d=function(e){return l(Object(H.a)({},n,Object(V.a)({},e.target.name,e.target.value)))};return e.auth?c.a.createElement(f.a,{to:"/dashboard"}):c.a.createElement(r.Fragment,null,c.a.createElement("h1",{className:"large text-primary"},"Register"),c.a.createElement("p",{className:"lead"},c.a.createElement("i",{className:"fas fa-user"})," Create Your Account"),c.a.createElement("form",{className:"form",onSubmit:function(a){return function(a){return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),s!==m?e.setAlert("Passwords do not match","danger"):e.register({firstName:o,lastName:u,email:i,password:s});case 2:case"end":return t.stop()}}))}(a)}},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"text",placeholder:"First Name",name:"firstName",value:o,onChange:function(e){return d(e)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"text",placeholder:"Last Name",name:"lastName",value:u,onChange:function(e){return d(e)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"email",placeholder:"Email Address",name:"email",value:i,onChange:function(e){return d(e)}}),c.a.createElement("small",{className:"form-text"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:s,onChange:function(e){return d(e)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"password",placeholder:"Confirm Password",name:"password2",value:m,onChange:function(e){return d(e)}})),c.a.createElement("input",{disabled:!0,type:"submit",className:"btn btn-primary",value:"Register"})),c.a.createElement("p",{className:"my-1"},"Already have an account? ",c.a.createElement(p.b,{to:"/login"},"Sign In")))})),q=function(e){var a=e.label,t=e.name,n=e.value,r=e.handleOnchange,l=e.placeholder;return c.a.createElement("fieldset",{class:"field-wrapper"},c.a.createElement("input",{name:a,placeholder:l,value:n,onChange:function(e){return r(e)},type:"text"}),c.a.createElement("label",{className:"smart-placeholder",for:a},t))},X=A.filter((function(e){return"0"===e.parent_id})),Z=function(e){var a=e.values;return c.a.createElement("div",{className:"form-wrapper col s12 m6 full-height"},c.a.createElement("form",{className:"form"},c.a.createElement(T,{name:"car-make",value:a.make,handleOnChange:e.handleChangeMake,listName:"Car Make",options:X}),function(){var t=a.make?X.find((function(e){return e.value===a.make})).id:null,n=A.filter((function(e){return e.parent_id===t}));return c.a.createElement(T,{name:"car-model",value:a.model,handleOnChange:e.handleChangeModel,listName:"Car Model",options:n||[""]})}(),c.a.createElement(q,{label:"trim",value:a.trim,handleOnchange:e.handleChangeTrim,name:"Model Trim"}),c.a.createElement(q,{label:"price",value:a.price,handleOnchange:e.handleChangePrice,name:"Price",placeholder:"DKK"}),c.a.createElement("fieldset",{className:"field-wrapper"},c.a.createElement("input",{className:"btn",type:"submit",value:"Next",onClick:function(a){return function(a){a.preventDefault(),e.nextStep()}(a)}}))))},Q=[{value:"white",name:"White"},{value:"black",name:"Black"},{value:"silver",name:"Silver"},{value:"red",name:"Red"},{value:"blue",name:"Blue"}],$=[{value:"cph",name:"Copenhagen"},{value:"aarhus",name:"\xc5rhus"},{value:"odense",name:"Odense"}],ee=function(e){var a,t=(new Date).getFullYear(),n=[{value:"1900",name:"Older"}];for(e=e||1980;e<=t;)a=e++,n.push({value:a.toString(),name:a.toString()});return n.reverse()},ae=function(e){var a=e.values;return c.a.createElement("div",{className:"form-wrapper col s12 m6"},c.a.createElement("form",{className:"form"},c.a.createElement(T,{name:"car-color",value:a.color,handleOnChange:e.handleChangeColor,listName:"Car Color",options:Q}),c.a.createElement(T,{name:"year",value:a.year,handleOnChange:e.handleChangeYear,listName:"Year",options:ee()}),c.a.createElement(q,{label:"mileage",value:a.mileage,handleOnchange:e.handleChangeMileage,name:"Mileage",placeholder:"km"}),c.a.createElement(T,{name:"city",value:a.city,handleOnChange:e.handleChangeCity,listName:"City",options:$}),c.a.createElement("fieldset",{className:"field-wrapper"},c.a.createElement("input",{className:"btn",type:"submit",value:"Next",onClick:function(a){return function(a){a.preventDefault(),e.nextStep()}(a)}}),c.a.createElement("input",{className:"btn",type:"submit",value:"Previous",onClick:function(a){return function(a){a.preventDefault(),e.prevStep()}(a)}}))))},te=function(e){e.name;var a=e.option,t=e.checkboxValue,n=e.toggleCheckbox;return c.a.createElement("div",null,c.a.createElement("p",null,c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",onClick:n,checked:t}),c.a.createElement("span",null,a))))},ne=function(e){var a=e.label,t=e.name,n=e.value,r=e.handleOnchange;return c.a.createElement("fieldset",{class:"field-wrapper"},c.a.createElement("textarea",{name:a,placeholder:a,value:n,onChange:function(e){return r(e)}}),c.a.createElement("label",{class:"smart-placeholder",for:a},t))},re=function(e){var a=e.values;return c.a.createElement("div",{className:"form-wrapper col s12 m6"},c.a.createElement("form",{className:"form"},c.a.createElement("fieldset",{className:"field-wrapper"},c.a.createElement("span",{className:"checkbox-group"},"Other options"),c.a.createElement(te,{name:"auto-gear",option:"Automatic Gear",toggleCheckbox:e.handleChangeAutoGear,checkboxValue:a.autoGear}),c.a.createElement(te,{name:"aircon",option:"Air Condition",toggleCheckbox:e.handleChangeAircon,checkboxValue:a.aircon}),c.a.createElement(te,{name:"park-cam",option:"Parking Camera",toggleCheckbox:e.handleChangeParkCam,checkboxValue:a.parkCam})),c.a.createElement(ne,{label:"description",value:a.description,handleOnchange:e.handleChangeDescription,name:"Description"}),c.a.createElement("fieldset",{className:"field-wrapper"},c.a.createElement("input",{className:"btn",type:"submit",value:"Next",onClick:function(a){return function(a){a.preventDefault(),e.nextStep()}(a)}}),c.a.createElement("input",{className:"btn",type:"submit",value:"Previous",onClick:function(a){return function(a){a.preventDefault(),e.prevStep()}(a)}}))))},ce=t(28),le=t(61),oe=t.n(le),ue=t(38),ie=t.n(ue),se={apiKey:"AIzaSyC7JwGdMOAindMXD0xyZ4fmuVFG_3Ai3_k",authDomain:"baneed-madani.firebaseapp.com",databaseURL:"https://baneed-madani.firebaseio.com",projectId:"baneed-madani",storageBucket:"baneed-madani.appspot.com",messagingSenderId:"1035312652498",appId:"1:1035312652498:web:9b1b983d9650feec398d0b",measurementId:"G-95KPV594RL"};ie.a.initializeApp(se);var me=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={filenames:[],downloadURLs:[],uploadProgress:0},t.handleUploadStart=function(){return t.setState({uploadProgress:0})},t.handleUploadSuccess=function(e){var a;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(ie.a.storage().ref("carImages").child(e).getDownloadURL());case 2:a=n.sent,t.setState((function(t){return{filenames:[].concat(Object(ce.a)(t.filenames),[e]),downloadURLs:[].concat(Object(ce.a)(t.downloadURLs),[a]),uploadProgress:100}})),t.props.setImageLinks(t.state.downloadURLs);case 5:case"end":return n.stop()}}))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(oe.a,{accept:"image/*",name:"carImage",randomizeFilename:!0,storageRef:ie.a.storage().ref("carImages"),onUploadStart:this.handleUploadStart,onUploadSuccess:this.handleUploadSuccess,multiple:!0}),c.a.createElement("p",null,"Progress: ",this.state.uploadProgress),c.a.createElement("p",null,"Filenames: ",this.state.filenames.join(", ")),c.a.createElement("div",null,this.state.downloadURLs.map((function(e,a){return c.a.createElement("img",{key:a,src:e})}))))}}]),a}(r.Component),de=function(e){e.values;return c.a.createElement("div",{className:"form-wrapper col s12 m6"},c.a.createElement("form",{className:"form"},c.a.createElement("fieldset",{className:"field-wrapper"},c.a.createElement("span",{className:"checkbox-group"},"Add Images")),c.a.createElement(me,{setImageLinks:e.setImageLinks}),c.a.createElement("fieldset",{className:"field-wrapper"},c.a.createElement("input",{className:"btn",type:"submit",value:"Save Car",onClick:function(a){return function(a){a.preventDefault(),e.saveCar(),e.nextStep()}(a)}}),c.a.createElement("input",{className:"btn",type:"submit",value:"Previous",onClick:function(a){return function(a){a.preventDefault(),e.prevStep()}(a)}}))))},pe=function(e){e.values;return c.a.createElement("div",null,c.a.createElement("div",{style:{margin:"100px auto",width:"100%",textAlign:"center"}},c.a.createElement("i",{style:{fontSize:"200px",color:"#ff9100"},class:"material-icons"},"check_circle_outline"),c.a.createElement("p",null,"Congratulations! Car is saved!!"),c.a.createElement("br",null),c.a.createElement(p.b,{className:"btn",style:{margin:"auto"},to:"/dashboard"},"Back to Dashboard"))," ")},fe=Object(v.b)(null,{newCar:N})((function(e){var a=Object(r.useState)(1),t=Object(h.a)(a,2),n=t[0],l=t[1],o=Object(r.useState)(""),u=Object(h.a)(o,2),i=u[0],s=u[1],m=Object(r.useState)(""),d=Object(h.a)(m,2),p=d[0],f=d[1],v=Object(r.useState)(""),b=Object(h.a)(v,2),E=b[0],g=b[1],O=Object(r.useState)(""),C=Object(h.a)(O,2),y=C[0],k=C[1],j=Object(r.useState)(""),S=Object(h.a)(j,2),N=S[0],x=S[1],w=Object(r.useState)(""),D=Object(h.a)(w,2),T=D[0],A=D[1],_=Object(r.useState)(""),M=Object(h.a)(_,2),L=M[0],F=M[1],R=Object(r.useState)(""),P=Object(h.a)(R,2),K=P[0],U=P[1],Y=Object(r.useState)(!1),I=Object(h.a)(Y,2),G=I[0],B=I[1],V=Object(r.useState)(!1),H=Object(h.a)(V,2),z=H[0],W=H[1],J=Object(r.useState)(!1),q=Object(h.a)(J,2),X=q[0],Q=q[1],$=Object(r.useState)(""),ee=Object(h.a)($,2),te=ee[0],ne=ee[1],ce=Object(r.useState)(""),le=Object(h.a)(ce,2),oe=le[0],ue=le[1],ie={make:i,model:p,trim:E,year:y,mileage:N,color:T,price:L,city:K,autoGear:G,aircon:z,parkCam:X,description:te,imageLinks:oe};switch(n){case 1:return c.a.createElement(Z,{nextStep:function(){return l(n+1)},handleChangeMake:function(e){return s(e.currentTarget.value)},handleChangeModel:function(e){return f(e.currentTarget.value)},handleChangeTrim:function(e){return g(e.currentTarget.value)},handleChangePrice:function(e){return F(e.currentTarget.value)},values:ie});case 2:return c.a.createElement(ae,{values:ie,nextStep:function(){return l(n+1)},prevStep:function(){return l(n-1)},handleChangeColor:function(e){return A(e.currentTarget.value)},handleChangeYear:function(e){return k(e.currentTarget.value)},handleChangeMileage:function(e){return x(e.currentTarget.value)},handleChangeCity:function(e){return U(e.currentTarget.value)}});case 3:return c.a.createElement(re,{values:ie,nextStep:function(){return l(n+1)},prevStep:function(){return l(n-1)},handleChangeAutoGear:function(){return B(!G)},handleChangeAircon:function(){return W(!z)},handleChangeParkCam:function(){return Q(!X)},handleChangeDescription:function(e){return ne(e.currentTarget.value)}});case 4:return c.a.createElement(de,{values:ie,nextStep:function(){return l(n+1)},prevStep:function(){return l(n-1)},setImageLinks:ue,saveCar:function(){return function(){var a={};a.make=i,a.model=p,a.trim=E,a.year=y,a.mileage=N,a.color=T,a.price=L,a.city=K,a.autoGear=G,a.aircon=z,a.parkCam=X,a.description=te,a.imageLinks=oe,e.newCar(a)}()}});case 5:return c.a.createElement(pe,null)}return c.a.createElement("div",null)})),ve=A.filter((function(e){return"0"===e.parent_id})),he=[{value:"0",name:"0 km"},{value:"5000",name:"5.000 km"},{value:"25000",name:"25.000 km"},{value:"50000",name:"50.0000 km"},{value:"100000",name:"100.000 km"},{value:"999999",name:"Maximum"}],be=[{value:"white",name:"White"},{value:"black",name:"Black"},{value:"silver",name:"Silver"},{value:"red",name:"Red"},{value:"blue",name:"Blue"}],Ee=[{value:"10000",name:"10.000 DKK"},{value:"25000",name:"25.000 DKK"},{value:"50000",name:"50.000 DKK"},{value:"100000",name:"100.000 DKK"},{value:"500000",name:"500.000 DKK"},{value:"999999",name:"Maximum"}],ge=function(e){var a,t=(new Date).getFullYear(),n=[{value:"1900",name:"Older"}];for(e=e||1980;e<=t;)a=e++,n.push({value:a.toString(),name:a.toString()});return n.reverse()},Oe=Object(v.b)(null,{search:S})(Object(f.g)((function(e){var a=Object(r.useState)(!1),t=Object(h.a)(a,2),n=(t[0],t[1],Object(r.useState)("")),l=Object(h.a)(n,2),o=l[0],u=l[1],i=Object(r.useState)(""),s=Object(h.a)(i,2),m=s[0],d=s[1],p=Object(r.useState)("2000"),f=Object(h.a)(p,2),v=f[0],b=f[1],E=Object(r.useState)("2020"),g=Object(h.a)(E,2),O=g[0],C=g[1],y=Object(r.useState)(999999),k=Object(h.a)(y,2),j=k[0],S=k[1],N=Object(r.useState)(""),x=Object(h.a)(N,2),w=x[0],D=x[1],_=Object(r.useState)(999999),M=Object(h.a)(_,2),L=M[0],F=M[1],R=Object(r.useState)(!1),P=Object(h.a)(R,2),K=P[0],U=P[1],Y=Object(r.useState)(!1),I=Object(h.a)(Y,2),G=I[0],B=I[1],V=Object(r.useState)(!1),H=Object(h.a)(V,2),z=H[0],W=H[1];return c.a.createElement("div",{className:"form-wrapper col s12 m6"},c.a.createElement("h2",{className:"form-title"},"Advanced Search"),c.a.createElement("form",{className:"form",onSubmit:function(a){return function(a){a.preventDefault();var t={};""!==o&&(t.make=o,""!==m&&(t.model=m)),t.minYear=v,t.maxYear=O,t.maxMileage=j,t.maxPrice=L,""!==w&&(t.color=w),!0===K&&(t.autoGear=K),!0===G&&(t.aircon=G),!0===z&&(t.parkCam=z);var n=Object.keys(t).map((function(e){return e+"="+t[e]})).join("&");e.history.push("/cars?"+n)}(a)}},c.a.createElement(T,{name:"car-make",value:o,handleOnChange:function(e){return u(e.currentTarget.value)},listName:"Car Make",options:ve}),function(){if(!o)return c.a.createElement(T,{name:"car-model",value:"",handleOnChange:function(e){return d(e.currentTarget.value)},listName:"Car Model",options:[""]});var e=ve.find((function(e){return e.value===o})).id,a=A.filter((function(a){return a.parent_id===e}));return c.a.createElement(T,{name:"car-model",value:m,handleOnChange:function(e){return d(e.currentTarget.value)},listName:"Car Model",options:a})}(),c.a.createElement(T,{name:"max-mileage",value:j,handleOnChange:function(e){return S(e.currentTarget.value)},listName:"Max Mileage",options:he}),c.a.createElement(T,{name:"color",value:w,handleOnChange:function(e){return D(e.currentTarget.value)},listName:"Car Color",options:be}),c.a.createElement(T,{name:"max-price",value:L,handleOnChange:function(e){return F(e.currentTarget.value)},listName:"Max Price",options:Ee}),c.a.createElement(T,{name:"min-year",value:v,handleOnChange:function(e){return b(e.currentTarget.value)},listName:"From Year",options:ge()}),c.a.createElement(T,{name:"max-year",value:O,handleOnChange:function(e){return C(e.currentTarget.value)},listName:"To Year",options:ge()}),c.a.createElement(te,{name:"auto-gear",option:"Automatic Gear",toggleCheckbox:function(){return U(!K)},checkboxValue:K}),c.a.createElement(te,{name:"aircon",option:"Air Condition",toggleCheckbox:function(){return B(!G)},checkboxValue:G}),c.a.createElement(te,{name:"park-cam",option:"Parking Camera",toggleCheckbox:function(){return W(!z)},checkboxValue:z}),c.a.createElement("fieldset",{className:"field-wrapper"},c.a.createElement("input",{className:"btn",type:"submit",value:"Search!"}))))}))),Ce={upDate:{fn:function(e,a){return e.dateCreated<a.dateCreated?-1:e.dateCreated>a.dateCreated?1:0}},downDate:{fn:function(e,a){return e.dateCreated<a.dateCreated?1:e.dateCreated>a.dateCreated?-1:0}},upMake:{fn:function(e,a){return e.make<a.make?-1:e.make>a.make?1:0}},downMake:{fn:function(e,a){return e.make<a.make?1:e.make>a.make?-1:0}},upYear:{fn:function(e,a){return e.year-a.year}},downYear:{fn:function(e,a){return a.year-e.year}},upPrice:{fn:function(e,a){return e.price-a.price}},downPrice:{fn:function(e,a){return a.price-e.price}},default:{fn:function(e,a){return e}}},ye=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={currentSort:"upPrice"},t.onSortChange=function(e){var a=t.state.currentSort;console.log("type: "+e),console.log("state: "+t.state.currentSort),"make"===e&&"upMake"===a&&t.setState({currentSort:"downMake"}),"make"===e&&"upMake"!==a&&t.setState({currentSort:"upMake"}),"year"===e&&"upYear"===a&&t.setState({currentSort:"downYear"}),"year"===e&&"upYear"!==a&&t.setState({currentSort:"upYear"}),"price"===e&&"upPrice"===a&&t.setState({currentSort:"downPrice"}),"price"===e&&"upPrice"!==a&&t.setState({currentSort:"upPrice"}),"date"===e&&"upDate"===a&&t.setState({currentSort:"downDate"}),"date"===e&&"upDate"!==a&&t.setState({currentSort:"upDate"})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"renderFavTop",value:function(){if(this.props.auth)return c.a.createElement("div",{className:"cell fav"})}},{key:"renderFavCell",value:function(e){var a=this;if(this.props.auth&&this.props.showFav)return this.props.auth.favList.includes(e)?c.a.createElement("i",{onClick:function(){return a.handleFav(e)},class:"material-icons orange-text text-accent-3 favcell "},"favorite"):c.a.createElement("i",{onClick:function(){return a.handleFav(e)},class:"material-icons orange-text text-accent-3 favcell"},"favorite_border")}},{key:"handleFav",value:function(e){this.props.addToFavList(e)}},{key:"render",value:function(){var e=this,a=this.props.data,t=this.state.currentSort;console.log(a);var n=a.sort((function(e,a){return e.year>a.year?1:a.year>e.year?-1:0}));return console.log(n),a.length>0&&c.a.createElement("div",{className:"container-table100"},c.a.createElement("h5",null,this.props.title),c.a.createElement("div",{className:"wrap-table100"},c.a.createElement("div",{className:"table"},c.a.createElement("div",{className:"row header"},c.a.createElement("div",{className:"cell",onClick:function(){return e.onSortChange("date")}},"Date"),c.a.createElement("div",{className:"cell",onClick:function(){return e.onSortChange("make")}},"Make"),c.a.createElement("div",{className:"cell",onClick:function(){return e.onSortChange("year")}},"Year"),c.a.createElement("div",{className:"cell",onClick:function(){return e.onSortChange("price")}},"Price"),this.renderFavTop()),Object(ce.a)(a).sort(Ce[t].fn).map((function(a){return c.a.createElement("div",{to:"/car/".concat(a._id),className:"row"},c.a.createElement(p.b,{to:"/car/".concat(a._id),className:"cell ","data-title":"date"},c.a.createElement("img",{alt:"",src:a.imageLinks[0]})),c.a.createElement(p.b,{to:"/car/".concat(a._id),className:"cell","data-title":"make"},A.find((function(e){return e.value===a.make})).name," ",A.find((function(e){return e.value===a.model})).name," ",a.trim),c.a.createElement(p.b,{to:"/car/".concat(a._id),className:"cell","data-title":"year"},a.year),c.a.createElement(p.b,{to:"/car/".concat(a._id),className:"cell","data-title":"price"},a.price," DKK"),e.renderFavCell(a._id))})))))}}]),a}(r.Component),ke=Object(v.b)((function(e){return{auth:e.auth}}),{addToFavList:w})(ye),je=function(e){function a(){return Object(u.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.search;this.props.search(e)}},{key:"render",value:function(){var e=this.props.car.cars;return c.a.createElement(ke,{data:e,title:"Search Results",showFav:!0})}}]),a}(r.Component),Se=Object(v.b)((function(e){return{car:e.car}}),{search:S})(je),Ne=t(62),xe=(t(117),{duration:5e3,transitionDuration:500,infinite:!0,indicators:!0,arrows:!0,onChange:function(e,a){}}),we=function(e){var a=e.imageLinks;return c.a.createElement("div",{className:"slide-container"},c.a.createElement(Ne.Slide,xe,a.map((function(e,a){return c.a.createElement("div",{className:"each-slide"},c.a.createElement("div",{style:{backgroundImage:"url(".concat(e,")")}}))}))))},De=Object(f.g)((function(e){var a=e.history;return c.a.createElement("button",{className:"btn",onClick:function(){return a.goBack()}},"Go Back")})),Te=[{value:"cph",name:"Copenhagen"},{value:"aarhus",name:"\xc5rhus"},{value:"odense",name:"Odense"}],Ae=Object(v.b)((function(e){return{car:e.car,auth:e.auth}}),{getCar:x,addToFavList:w})(Object(f.g)((function(e){var a=e.match.params.id;Object(r.useEffect)((function(){e.getCar(a)}),[e.getCar]);var t=Object(H.a)({},e.car.car),n=(t.imageLinks,A.find((function(e){return e.value===t.make})),function(a){e.addToFavList(a)});return t?c.a.createElement("div",{style:{background:"#F8F8F8",padding:"1rem 0"}},c.a.createElement("div",{className:"car-title"},c.a.createElement("span",null,t.make?A.find((function(e){return e.value===t.make})).name:""," ",t.model?A.find((function(e){return e.value===t.model})).name:""," ",t.trim),c.a.createElement("br",null),t._id?function(a){if(e.auth)return e.auth.favList.includes(a)?c.a.createElement("div",{onClick:function(){return n(a)},style:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}},c.a.createElement("span",{className:"orange-text text-accent-3 ",style:{fontSize:"1rem"}},"Remove from favorites"," "),c.a.createElement("i",{class:"material-icons orange-text text-accent-3  "},"favorite")):c.a.createElement("div",{onClick:function(){return n(a)},style:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}},c.a.createElement("span",{className:"orange-text text-accent-3 ",style:{fontSize:"1rem"}}," ","Add to favorites"," "),c.a.createElement("i",{class:"material-icons orange-text text-accent-3"},"favorite_border"))}(t._id.toString()):""),t.imageLinks?c.a.createElement(we,{imageLinks:t.imageLinks}):"",c.a.createElement("div",{className:"car-info"},c.a.createElement("h5",null,"Car info"),c.a.createElement("p",null,"Price: ",c.a.createElement("span",null,t.price," DKK")," , Year:"," ",c.a.createElement("span",null,t.year),", Mileage:"," ",c.a.createElement("span",null,t.mileage," km.")),c.a.createElement("h5",null,"More info"),c.a.createElement("p",null,t.autoGear?c.a.createElement("span",null,"Automatic Gear"):c.a.createElement("span",null,"Manual Gear"),", color: ",t.color,t.aircon?c.a.createElement("span",null,", aircondition"):"",t.parkCam?c.a.createElement("span",null,", parking camera"):"","."),c.a.createElement("h5",null,"Location"),c.a.createElement("p",null,t.city?Te.find((function(e){return e.value===t.city})).name:"")),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(De,null),c.a.createElement("br",null)):c.a.createElement("div",{class:"progress"},c.a.createElement("div",{class:"indeterminate"}))}))),_e=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={favorites:[]},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.get("/api/favorites").then((function(a){var t=a.data;e.setState({favorites:t})}))}},{key:"render",value:function(){var e=this.state.favorites;return c.a.createElement(ke,{data:e,title:"Favorites",showFav:!0})}}]),a}(r.Component),Me=Object(v.b)((function(e){return{car:e.car}}))(_e),Le=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={favorites:[]},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.get("/api/favorites").then((function(a){var t=a.data;e.setState({favorites:t})})),this.props.getUsersCars(this.props.auth._id)}},{key:"render",value:function(){var e=this.state.favorites,a=this.props.car.userCars;return c.a.createElement("div",null,c.a.createElement("div",{className:"mini-table"},c.a.createElement(ke,{data:e,title:"Your Favorites",showFav:!0})),c.a.createElement("div",{className:"mini-table"},c.a.createElement(ke,{data:a,title:"Your Cars"})),c.a.createElement("div",null,c.a.createElement("h5",null,"Profile"),c.a.createElement("p",null,"Name:"," ",c.a.createElement("span",null,this.props.auth.firstName," ",this.props.auth.lastName)),c.a.createElement("p",null,"E-mail: ",c.a.createElement("span",null,this.props.auth.email))))}}]),a}(r.Component),Fe=Object(v.b)((function(e){return{car:e.car,auth:e.auth}}),{getUsersCars:D})(Le),Re=t(63),Pe=t.n(Re),Ke=function(){return c.a.createElement("div",null,"Not Found")},Ue=t(66),Ye=Object(v.b)((function(e){return{auth:e.auth}}))((function(e){var a=e.component,t=e.auth,n=Object(Ue.a)(e,["component","auth"]);return c.a.createElement(f.b,Object.assign({},n,{render:function(e){return t?c.a.createElement(a,e):c.a.createElement(f.a,{to:"/login"})}}))})),Ie=function(){return c.a.createElement("section",{className:"container"},c.a.createElement(f.d,null,c.a.createElement(f.b,{exact:!0,path:"/register",component:J}),c.a.createElement(f.b,{exact:!0,path:"/login",component:W}),c.a.createElement(f.b,{exact:!0,path:"/search",component:Oe}),c.a.createElement(f.b,{exact:!0,path:"/cars",component:Se}),c.a.createElement(f.b,{exact:!0,path:"/car/:id",component:Ae}),c.a.createElement(f.b,{exact:!0,path:"/user/:id/cars",component:Se}),c.a.createElement(Ye,{exact:!0,path:"/newcar",component:fe}),c.a.createElement(Ye,{exact:!0,path:"/favorites",component:Me}),c.a.createElement(Ye,{exact:!0,path:"/dashboard",component:Fe}),c.a.createElement(Ye,{exact:!0,path:"/update-car/:id",component:Pe.a}),c.a.createElement(f.b,{component:Ke})))},Ge=function(e){function a(){return Object(u.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(p.a,null,c.a.createElement(r.Fragment,null,c.a.createElement(I,null),c.a.createElement(f.b,{exact:!0,path:"/",component:P}),c.a.createElement(f.b,{component:Ie}),c.a.createElement(B,null))))}}]),a}(r.Component),Be=Object(v.b)(null,n)(Ge),Ve=t(25),He=t(64),ze=t(65),We=[],Je={cars:[],car:null,userCars:[]},qe=Object(Ve.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ALERT":return[].concat(Object(ce.a)(e),[a.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==a.payload}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(console.log(a.payload),a.type){case"FETCH_USER":return a.payload||!1;case"ADD_TO_FAV":return Object(H.a)({},e,{favList:a.payload});default:return e}},car:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,a=arguments.length>1?arguments[1]:void 0;switch(console.log(a.payload),a.type){case"SEARCH_SUCCESS":return Object(H.a)({},e,{cars:a.payload});case"FETCH_CAR":return Object(H.a)({},e,{car:a.payload});case"FETCH_USER_CARS":return Object(H.a)({},e,{userCars:a.payload});default:return e}}}),Xe=[ze.a],Ze=Object(Ve.createStore)(qe,{},Object(He.composeWithDevTools)(Ve.applyMiddleware.apply(void 0,Xe)));o.a.render(c.a.createElement(v.a,{store:Ze},c.a.createElement(Be,null)),document.getElementById("root"))},40:function(e,a,t){},63:function(e,a){},67:function(e,a,t){e.exports=t(118)},76:function(e,a,t){},8:function(e){e.exports=JSON.parse('[{"id":"1","name":"BMW","value":"bmw","parent_id":"0"},{"id":"2","name":"Mazda","value":"mazda","parent_id":"0"},{"id":"3","name":"Toyota","value":"toyota","parent_id":"0"},{"id":"4","name":"I3","value":"i3","parent_id":"1"},{"id":"5","name":"320i","value":"320i","parent_id":"1"},{"id":"6","name":"530","value":"530","parent_id":"1"},{"id":"7","name":"3","value":"3","parent_id":"2"},{"id":"8","name":"6","value":"6","parent_id":"2"},{"id":"9","name":"626","value":"626","parent_id":"2"},{"id":"10","name":"Yaris","value":"yaris","parent_id":"3"},{"id":"11","name":"Avensis","value":"avensis","parent_id":"3"},{"id":"12","name":"Corolla","value":"corolla","parent_id":"3"}]')},97:function(e,a,t){}},[[67,1,2]]]);
//# sourceMappingURL=main.9679432b.chunk.js.map